{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
<div class="auth-container" style="max-width: 500px; margin: 0 auto; padding: 4rem 0;">
    <div class="card border-0 shadow-lg rounded-3 overflow-hidden">
        <div class="card-body p-5">
            <div class="text-center mb-4">
                <div class="icon-wrapper bg-primary bg-opacity-10 rounded-circle p-3 d-inline-flex mb-3">
                    <i class="fas fa-user-plus fa-2x text-primary"></i>
                </div>
                <h1 class="h2 fw-bold text-dark mb-2">Register</h1>
                <p class="text-muted">Create your FootballDB account</p>
            </div>
            
            {% for flash_error in app.flashes('verify_email_error') %}
                <div class="alert alert-danger border-0 rounded-3 shadow-sm d-flex align-items-center mb-4" role="alert">
                    <i class="fas fa-exclamation-circle fa-lg me-3"></i>
                    <div class="flex-grow-1">{{ flash_error }}</div>
                </div>
            {% endfor %}
            
            {{ form_start(registrationForm, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
            
                {% if registrationForm.vars.errors|length > 0 %}
                    <div class="alert alert-warning border-0 rounded-3 shadow-sm d-flex align-items-center mb-4" role="alert">
                        <i class="fas fa-exclamation-triangle fa-lg me-3"></i>
                        <div class="flex-grow-1">
                            {{ form_errors(registrationForm) }}
                        </div>
                    </div>
                {% endif %}
                
                <div class="mb-4">
                    <div class="form-floating">
                        {{ form_widget(registrationForm.email, {'attr': {
                            'class': 'form-control form-control-lg border-2',
                            'placeholder': 'name@example.com',
                            'style': 'border-color: #e2e8f0;'
                        }}) }}
                        <label for="{{ registrationForm.email.vars.id }}">Email address</label>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="form-floating">
                        {{ form_widget(registrationForm.plainPassword, {'attr': {
                            'class': 'form-control form-control-lg border-2',
                            'placeholder': 'Password',
                            'style': 'border-color: #e2e8f0;'
                        }}) }}
                        <label for="{{ registrationForm.plainPassword.vars.id }}">Password</label>
                    </div>
                </div>
                
                <div class="mb-4">
                    <div class="form-check p-3 border rounded-3 bg-light">
                        <div class="d-flex align-items-center">
                            {{ form_widget(registrationForm.agreeTerms, {'attr': {
                                'class': 'form-check-input me-3',
                                'style': 'width: 20px; height: 20px;'
                            }}) }}
                            <label class="form-check-label text-dark" for="{{ registrationForm.agreeTerms.vars.id }}">
                                <span class="fw-medium">I agree to the terms</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary btn-lg w-100 py-3 rounded-pill shadow-sm mb-3">
                    <i class="fas fa-user-plus me-2"></i>Register
                </button>
                
                <div class="text-center mt-3 pt-3 border-top">
                    <p class="text-muted mb-0">
                        Already have an account?
                        <a href="{{ path('app_login') }}" class="text-decoration-none fw-semibold text-primary ms-2">
                            Sign in here
                        </a>
                    </p>
                </div>
                
            {{ form_end(registrationForm) }}
        </div>
    </div>
</div>

<style>
    .auth-container {
        min-height: 70vh;
        display: flex;
        align-items: center;
    }
    
    .icon-wrapper {
        width: 70px;
        height: 70px;
    }
    
    .form-control {
        border-color: #e2e8f0;
        transition: all 0.3s ease;
    }
    
    .form-control:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.25rem rgba(37, 99, 235, 0.1);
    }
    
    .form-floating > .form-control {
        height: calc(3.5rem + 2px);
        padding: 1rem 0.75rem;
    }
    
    .form-floating > label {
        padding: 1rem 0.75rem;
    }
    
    .form-check-input:checked {
        background-color: var(--primary);
        border-color: var(--primary);
    }
    
    .form-check-input:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.25rem rgba(37, 99, 235, 0.1);
    }
    
    .btn-primary {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        border: none;
        transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
    }
    
    a.text-primary {
        transition: all 0.3s ease;
        position: relative;
    }
    
    a.text-primary:hover {
        color: var(--primary-dark) !important;
    }
    
    a.text-primary::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--primary);
        transition: width 0.3s ease;
    }
    
    a.text-primary:hover::after {
        width: 100%;
    }
</style>
{% endblock %}